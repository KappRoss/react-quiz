(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{18:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__18Rwf",QuizWrapper:"Quiz_QuizWrapper__c8INT",Header:"Quiz_Header__1bBp-",Timer:"Quiz_Timer__1u-hY"}},19:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__2BlOY",close:"Drawer_close__1Cl1X",active:"Drawer_active__35KPu"}},20:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",error:"Button_error__2nDvg",success:"Button_success__cnhtV",primary:"Button_primary__28VL_",disabled:"Button_disabled__2F8yf"}},25:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__OLoE2",open:"MenuToggle_open__14SWd"}},26:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__Dpsgu",Question:"ActiveQuiz_Question__18iOr"}},27:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__3PJVi",succes:"AnswerItem_succes__2XOoe",error:"AnswerItem_error___hrWf"}},28:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__D-CkC",succes:"FinishedQuiz_succes__2e1vR",error:"FinishedQuiz_error__KSdom"}},29:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",invalid:"Input_invalid__1XscM"}},30:function(e,t,n){e.exports={Auth:"Auth_Auth__1Zul_",AuthForm:"Auth_AuthForm__3wyhV"}},43:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},45:function(e,t,n){e.exports={Layout:"Layout_Layout__2BpO9"}},46:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__EwYQd"}},47:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__3jBmX"}},48:function(e,t,n){e.exports={Select:"Select_Select__2qylT"}},49:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__a5VQi"}},56:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),i=n(42),c=n.n(i),o=(n(56),n(10)),u=n(11),l=n(14),d=n(12),j=n(43),h=n.n(j),p=function(e){return Object(r.jsx)("div",{className:h.a.Backdrop,onClick:e.onClick})},b=n(19),v=n.n(b),f=n(8),O=[{to:"/",label:"List",exact:!0},{to:"/auth",label:"Authorization",exact:!1},{to:"/quiz-creator",label:"Create quiz",exact:!1}],m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderLinks",value:function(){var e=this;return O.map((function(t,n){return Object(r.jsx)("li",{children:Object(r.jsx)(f.c,{to:t.to,exact:t.exact,activeClassName:v.a.active,onClick:function(){return e.props.onClose()},children:t.label})},n)}))}},{key:"render",value:function(){var e=[v.a.Drawer];return this.props.isOpen||e.push(v.a.close),Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)("nav",{className:e.join(" "),children:Object(r.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(r.jsx)(p,{onClick:this.props.onClose}):null]})}}]),n}(s.Component),x=n(25),_=n.n(x),g=function(e){var t=[_.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(_.a.open)):t.push("fa-bars"),Object(r.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},w=n(45),z=n.n(w),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:z.a.Layout,children:[Object(r.jsx)(m,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),Object(r.jsx)(g,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(r.jsx)("main",{children:this.props.children})]})}}]),n}(a.a.Component),y=n(4),k=n.n(y),q=n(9),Q=n(16),A=n(18),S=n.n(A),F=n(26),L=n.n(F),N=n(27),I=n.n(N),M=function(e){var t=[I.a.AnswerItem];return e.answerState&&t.push(I.a[e.answerState]),Object(r.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},B=n(46),T=n.n(B),V=function(e){return Object(r.jsx)("ul",{className:T.a.AnswersList,children:e.answers.map((function(t,n){return Object(r.jsx)(M,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},D=function(e){return Object(r.jsxs)("div",{className:L.a.ActiveQuiz,children:[Object(r.jsxs)("p",{className:L.a.Question,children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("strong",{children:[e.answerNumber,"."]}),"\xa0",e.question]}),Object(r.jsxs)("small",{children:[e.answerNumber," out of ",e.quizLength]})]}),Object(r.jsx)(V,{answerState:e.answerState,answers:e.answers,onAnswerClick:e.onAnswerClick})]})},E=n(20),H=n.n(E),R=function(e){var t=[H.a.Button,H.a[e.type],e.disabled?H.a.disabled:""];return Object(r.jsx)("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled,children:e.children})},P=n(28),W=n.n(P),U=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"succes"===e.results[n]&&t++,t}),0);return Object(r.jsxs)("div",{className:W.a.FinishedQuiz,children:[Object(r.jsx)("ul",{children:e.quiz.map((function(t,n){var s=["fa","error"===e.results[t.id]?"fa-times":"fa-check",W.a[e.results[t.id]]];return Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:n+1}),".\xa0",t.question,Object(r.jsx)("i",{className:s.join(" ")})]},n)}))}),Object(r.jsxs)("p",{children:["Correct answers: ",t," out of ",e.quiz.length]}),Object(r.jsx)(R,{onClick:e.onRetry,type:"primary",children:"Repeat"}),Object(r.jsx)(f.b,{to:"/",children:Object(r.jsx)(R,{type:"success",children:"go to list of tests"})})]})},X=n(17),Y=n.n(X),K=Y.a.create({baseURL:"https://react-quiz-25a52-default-rtdb.firebaseio.com"}),J=(n(80),function(e){return Object(r.jsxs)("div",{className:"lds-spinner",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}),Z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={results:{},activeQuestion:0,isFinished:!1,answerState:null,quiz:[],loading:!0},e.onAnswerClickHendler=function(t){if(e.state.answerState){var n=Object.keys(e.state.answerState)[0];if("succes"===e.state.answerState[n])return}var r=e.state.quiz[e.state.activeQuestion],s=e.state.results;if(Number.parseInt(r.rightAnswerId)===t){s[r.id]||(s[r.id]="succes"),e.setState({answerState:Object(Q.a)({},t,"succes"),results:s});var a=window.setTimeout((function(){e.isQuizFinished()?e.setState({isFinished:!0}):e.setState({activeQuestion:e.state.activeQuestion+1,answerState:null}),window.clearTimeout(a)}),1e3)}else s[r.id]="error",e.setState({answerState:Object(Q.a)({},t,"error"),results:s})},e.retryHandler=function(){e.setState({activeQuestion:0,answerState:null,isFinished:!1,results:{}})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(q.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/quizes/".concat(this.props.match.params.id,".json"));case 3:t=e.sent,n=t.data,this.setState({quiz:n,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"render",value:function(){return Object(r.jsx)("div",{className:S.a.Quiz,children:Object(r.jsxs)("div",{className:S.a.QuizWrapper,children:[Object(r.jsxs)("div",{className:S.a.Header,children:[Object(r.jsx)("h1",{children:"Quiz"}),Object(r.jsx)("div",{className:S.a.Timer,children:this.state.currentTime})]}),this.state.loading?Object(r.jsx)(J,{}):this.state.isFinished?Object(r.jsx)(U,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):Object(r.jsx)(D,{onAnswerClick:this.onAnswerClickHendler,question:this.state.quiz[this.state.activeQuestion].question,answers:this.state.quiz[this.state.activeQuestion].answers,quizLength:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,answerState:this.state.answerState})]})})}}]),n}(s.Component),G=n(2),$=n(3),ee=n(13),te=n(47),ne=n.n(te);function re(e,t){return Object($.a)(Object($.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function se(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}var ae=n(29),ie=n.n(ae);function ce(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var oe=function(e){var t=e.type||"text",n=[ie.a.Input],s="".concat(t,"-").concat(Math.random());return ce(e)&&n.push(ie.a.invalid),Object(r.jsxs)("div",{className:n.join(" "),children:[Object(r.jsx)("label",{htmlFor:s,children:e.label}),Object(r.jsx)("input",{type:t,id:s,value:e.value,onChange:e.onChange,placeholder:e.placeholder}),ce(e)?Object(r.jsx)("span",{children:e.errorMessage||"Wrong password or Email"}):null]})},ue=n(48),le=n.n(ue),de=function(e){var t="".concat(e.label,"-").concat(Math.random());return Object(r.jsxs)("div",{className:le.a.Select,children:[Object(r.jsx)("label",{htmlFor:t,children:e.label}),Object(r.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(r.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})};function je(e){return re({label:"option ".concat(e),errorMessage:"cant be empty!",id:e},{required:!0})}function he(){return{question:re({label:"Enter question",errorMessage:"it empty!"},{required:!0}),option1:je(1),option2:je(2),option3:je(3),option4:je(4)}}var pe=function(e){var t=Object(s.useState)({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:he()}),n=Object(ee.a)(t,2),a=n[0],i=n[1],c=function(){var e=Object(q.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,K.post("/quizes.json",a.quiz);case 4:i({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:he()}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),o=Object(r.jsx)(de,{label:"Choose right answer ",value:a.rightAnswerId,onChange:function(e){i(Object($.a)(Object($.a)({},a),{},{rightAnswerId:e.target.value}))},options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(r.jsx)("div",{className:ne.a.QuizCreator,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Create Quiz"}),Object(r.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object.keys(a.formControls).map((function(e,t){var n=a.formControls[e];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe,{label:n.label,value:n.value,valid:n.valid,shouldValidate:!!n.validation,touched:n.touched,errorMessage:n.errorMessage,onChange:function(t){return function(e,t){var n=Object($.a)({},a.formControls),r=Object($.a)({},n[t]);r.touched=!0,r.value=e,r.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}(r.value,r.validation),n[t]=r,i(Object($.a)(Object($.a)({},a),{},{formControls:n,isFormValid:se(n)}))}(t.target.value,e)}},e+t),0===t?Object(r.jsx)("hr",{}):null]})})),o,Object(r.jsx)(R,{type:"primary",onClick:function(e){e.preventDefault();var t=a.quiz.concat(),n=t.length+1,r=a.formControls,s=r.question,c=r.option1,o=r.option2,u=r.option3,l=r.option4,d={question:s.value,id:n,rightAnswerId:a.rightAnswerId,answers:[{text:c.value,id:c.id},{text:o.value,id:o.id},{text:u.value,id:u.id},{text:l.value,id:l.id}]};t.push(d),i(Object($.a)(Object($.a)({},a),{},{quiz:t,isFormValid:!1,rightAnswerId:1,formControls:he()}))},disabled:!a.isFormValid,children:"Add question"}),Object(r.jsx)(R,{type:"success",onClick:c,disabled:0===a.quiz.length,children:"Create test"})]})]})})},be=n(49),ve=n.n(be),fe=function(e){var t=Object(s.useState)({quizes:[],loading:!0}),n=Object(ee.a)(t,2),a=n[0],i=n[1];Object(s.useEffect)((function(){Object(q.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/quizes.json");case 3:t=e.sent,n=[],Object.keys(t.data).forEach((function(e,t){n.push({id:e,name:"Test #".concat(t+1)})})),i(Object($.a)(Object($.a)({},a),{},{quizes:n,loading:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[a.loading]);return Object(r.jsxs)("div",{className:ve.a.QuizList,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Quiz List"})}),a.loading?Object(r.jsx)(J,{}):Object(r.jsx)("ul",{children:a.quizes.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(f.c,{to:"/quiz/"+e.id,children:e.name})},e.id)}))})]})},Oe=n(30),me=n.n(Oe),xe=n(50),_e=n.n(xe),ge=function(e){var t=Object(s.useState)({isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Enter correct Email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter correct password",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}}),n=Object(ee.a)(t,2),a=n[0],i=n[1],c=function(e,t){var n=Object($.a)({},a.formControls),r=Object($.a)({},n[t]);r.value=e.target.value,r.touched=!0,r.valid=function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=_e.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}(r.value,r.validation),n[t]=r;var s=!0;Object.keys(n).forEach((function(e){s=n[e].valid&&s})),i({formControls:n,isFormValid:s})},o=function(){var e=Object(q.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.formControls.email.value,password:a.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCwGjqYaUgSL_RUFE-MBF9_mttu-_grZfc",t);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(q.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.formControls.email.value,password:a.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCwGjqYaUgSL_RUFE-MBF9_mttu-_grZfc",t);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:me.a.Auth,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Authorization"}),Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault()},className:me.a.AuthForm,children:[Object.keys(a.formControls).map((function(e,t){var n=a.formControls[e];return Object(r.jsx)(oe,{type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,errorMessage:n.errorMessage,shouldValidate:!!n.validation,onChange:function(t){return c(t,e)}},e+t)})),Object(r.jsx)(R,{type:"success",onClick:o,disabled:!a.isFormValid,children:"Login"}),Object(r.jsx)(R,{type:"primary",onClick:u,children:"Registration"})]})]})})};var we=function(){return Object(r.jsx)(C,{children:Object(r.jsxs)(G.c,{children:[Object(r.jsx)(G.a,{path:"/auth",component:ge}),Object(r.jsx)(G.a,{path:"/quiz-creator",component:pe}),Object(r.jsx)(G.a,{path:"/quiz/:id",component:Z}),Object(r.jsx)(G.a,{path:"/",component:fe})]})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(f.a,{children:Object(r.jsx)(we,{})})}),document.getElementById("root")),ze()}},[[81,1,2]]]);
//# sourceMappingURL=main.541a7aff.chunk.js.map