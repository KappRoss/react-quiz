(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{16:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__18Rwf",QuizWrapper:"Quiz_QuizWrapper__c8INT",Header:"Quiz_Header__1bBp-",Timer:"Quiz_Timer__1u-hY"}},19:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__2BlOY",close:"Drawer_close__1Cl1X",active:"Drawer_active__35KPu"}},20:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",error:"Button_error__2nDvg",success:"Button_success__cnhtV",primary:"Button_primary__28VL_",disabled:"Button_disabled__2F8yf"}},25:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__OLoE2",open:"MenuToggle_open__14SWd"}},26:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__Dpsgu",Question:"ActiveQuiz_Question__18iOr"}},27:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__3PJVi",succes:"AnswerItem_succes__2XOoe",error:"AnswerItem_error___hrWf"}},28:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__D-CkC",succes:"FinishedQuiz_succes__2e1vR",error:"FinishedQuiz_error__KSdom"}},29:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",invalid:"Input_invalid__1XscM"}},30:function(e,t,n){e.exports={Auth:"Auth_Auth__1Zul_",AuthForm:"Auth_AuthForm__3wyhV"}},43:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},45:function(e,t,n){e.exports={Layout:"Layout_Layout__2BpO9"}},46:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__EwYQd"}},47:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__3jBmX"}},48:function(e,t,n){e.exports={Select:"Select_Select__2qylT"}},49:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__a5VQi"}},56:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),s=n.n(i),a=n(42),c=n.n(a),o=(n(56),n(8)),u=n(9),l=n(12),d=n(10),h=n(43),j=n.n(h),b=function(e){return Object(r.jsx)("div",{className:j.a.Backdrop,onClick:e.onClick})},p=n(19),v=n.n(p),f=n(7),O=[{to:"/",label:"List",exact:!0},{to:"/auth",label:"Authorization",exact:!1},{to:"/quiz-creator",label:"Create quiz",exact:!1}],m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderLinks",value:function(){var e=this;return O.map((function(t,n){return Object(r.jsx)("li",{children:Object(r.jsx)(f.c,{to:t.to,exact:t.exact,activeClassName:v.a.active,onClick:function(){return e.props.onClose()},children:t.label})},n)}))}},{key:"render",value:function(){var e=[v.a.Drawer];return this.props.isOpen||e.push(v.a.close),Object(r.jsxs)(s.a.Fragment,{children:[Object(r.jsx)("nav",{className:e.join(" "),children:Object(r.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(r.jsx)(b,{onClick:this.props.onClose}):null]})}}]),n}(i.Component),x=n(25),_=n.n(x),w=function(e){var t=[_.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(_.a.open)):t.push("fa-bars"),Object(r.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},g=n(45),z=n.n(g),C=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:z.a.Layout,children:[Object(r.jsx)(m,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),Object(r.jsx)(w,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(r.jsx)("main",{children:this.props.children})]})}}]),n}(s.a.Component),y=n(15),q=n(16),k=n.n(q),Q=n(26),A=n.n(Q),S=n(27),F=n.n(S),L=function(e){var t=[F.a.AnswerItem];return e.answerState&&t.push(F.a[e.answerState]),Object(r.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},N=n(46),I=n.n(N),M=function(e){return Object(r.jsx)("ul",{className:I.a.AnswersList,children:e.answers.map((function(t,n){return Object(r.jsx)(L,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},B=function(e){return Object(r.jsxs)("div",{className:A.a.ActiveQuiz,children:[Object(r.jsxs)("p",{className:A.a.Question,children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("strong",{children:[e.answerNumber,"."]}),"\xa0",e.question]}),Object(r.jsxs)("small",{children:[e.answerNumber," out of ",e.quizLength]})]}),Object(r.jsx)(M,{answerState:e.answerState,answers:e.answers,onAnswerClick:e.onAnswerClick})]})},T=n(20),V=n.n(T),D=function(e){var t=[V.a.Button,V.a[e.type],e.disabled?V.a.disabled:""];return Object(r.jsx)("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled,children:e.children})},E=n(28),H=n.n(E),W=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"succes"===e.results[n]&&t++,t}),0);return Object(r.jsxs)("div",{className:H.a.FinishedQuiz,children:[Object(r.jsx)("ul",{children:e.quiz.map((function(t,n){var i=["fa","error"===e.results[t.id]?"fa-times":"fa-check",H.a[e.results[t.id]]];return Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:n+1}),".\xa0",t.question,Object(r.jsx)("i",{className:i.join(" ")})]},n)}))}),Object(r.jsxs)("p",{children:["Correct answers: ",t," out of ",e.quiz.length]}),Object(r.jsx)(D,{onClick:e.onRetry,type:"primary",children:"Repeat"}),Object(r.jsx)(f.b,{to:"/",children:Object(r.jsx)(D,{type:"success",children:"go to list of tests"})})]})},K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={results:{},activeQuestion:0,isFinished:!1,answerState:null,quiz:[{id:1,question:"What color is the sky?",rightAnswerId:2,answers:[{text:"red",id:1},{text:"blue",id:2},{text:"green",id:3},{text:"white",id:4}]},{id:2,question:"What is the capital of Ukraine?",rightAnswerId:4,answers:[{text:"Lviv",id:1},{text:"Odessa",id:2},{text:"Kharkiv",id:3},{text:"Kiev",id:4}]}]},e.onAnswerClickHendler=function(t){if(e.state.answerState){var n=Object.keys(e.state.answerState)[0];if("succes"===e.state.answerState[n])return}var r=e.state.quiz[e.state.activeQuestion],i=e.state.results;if(r.rightAnswerId===t){i[r.id]||(i[r.id]="succes"),e.setState({answerState:Object(y.a)({},t,"succes"),results:i});var s=window.setTimeout((function(){e.isQuizFinished()?e.setState({isFinished:!0}):e.setState({activeQuestion:e.state.activeQuestion+1,answerState:null}),window.clearTimeout(s)}),1e3)}else i[r.id]="error",e.setState({answerState:Object(y.a)({},t,"error"),results:i})},e.retryHandler=function(){e.setState({activeQuestion:0,answerState:null,isFinished:!1,results:{}})},e}return Object(u.a)(n,[{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"render",value:function(){return console.log("render",this.state),Object(r.jsx)("div",{className:k.a.Quiz,children:Object(r.jsxs)("div",{className:k.a.QuizWrapper,children:[Object(r.jsxs)("div",{className:k.a.Header,children:[Object(r.jsx)("h1",{children:"Quiz"}),Object(r.jsx)("div",{className:k.a.Timer,children:this.state.currentTime})]}),this.state.isFinished?Object(r.jsx)(W,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):Object(r.jsx)(B,{onAnswerClick:this.onAnswerClickHendler,question:this.state.quiz[this.state.activeQuestion].question,answers:this.state.quiz[this.state.activeQuestion].answers,quizLength:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,answerState:this.state.answerState})]})})}}]),n}(i.Component),P=n(2),R=n(13),X=n.n(R),J=n(17),Y=n(3),U=n(11),Z=n(47),G=n.n(Z);function $(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function ee(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}var te=n(29),ne=n.n(te);function re(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var ie=function(e){var t=e.type||"text",n=[ne.a.Input],i="".concat(t,"-").concat(Math.random());return re(e)&&n.push(ne.a.invalid),Object(r.jsxs)("div",{className:n.join(" "),children:[Object(r.jsx)("label",{htmlFor:i,children:e.label}),Object(r.jsx)("input",{type:t,id:i,value:e.value,onChange:e.onChange,placeholder:e.placeholder}),re(e)?Object(r.jsx)("span",{children:e.errorMessage||"Wrong password or Email"}):null]})},se=n(48),ae=n.n(se),ce=function(e){var t="".concat(e.label,"-").concat(Math.random());return Object(r.jsxs)("div",{className:ae.a.Select,children:[Object(r.jsx)("label",{htmlFor:t,children:e.label}),Object(r.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(r.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})},oe=n(18),ue=n.n(oe);function le(e){return $({label:"option ".concat(e),errorMessage:"cant be empty!",id:e},{required:!0})}function de(){return{question:$({label:"Enter question",errorMessage:"it empty!"},{required:!0}),option1:le(1),option2:le(2),option3:le(3),option4:le(4)}}var he=function(e){var t=Object(i.useState)({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:de()}),n=Object(U.a)(t,2),s=n[0],a=n[1],c=function(){var e=Object(J.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,ue.a.post("https://react-quiz-25a52-default-rtdb.firebaseio.com/quizes.json",s.quiz);case 4:a({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:de()}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),o=Object(r.jsx)(ce,{label:"Choose right answer ",value:s.rightAnswerId,onChange:function(e){a(Object(Y.a)(Object(Y.a)({},s),{},{rightAnswerId:e.target.value}))},options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(r.jsx)("div",{className:G.a.QuizCreator,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Create Quiz"}),Object(r.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object.keys(s.formControls).map((function(e,t){var n=s.formControls[e];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ie,{label:n.label,value:n.value,valid:n.valid,shouldValidate:!!n.validation,touched:n.touched,errorMessage:n.errorMessage,onChange:function(t){return function(e,t){var n=Object(Y.a)({},s.formControls),r=Object(Y.a)({},n[t]);r.touched=!0,r.value=e,r.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}(r.value,r.validation),n[t]=r,a(Object(Y.a)(Object(Y.a)({},s),{},{formControls:n,isFormValid:ee(n)}))}(t.target.value,e)}},e+t),0===t?Object(r.jsx)("hr",{}):null]})})),o,Object(r.jsx)(D,{type:"primary",onClick:function(e){e.preventDefault();var t=s.quiz.concat(),n=t.length+1,r=s.formControls,i=r.question,c=r.option1,o=r.option2,u=r.option3,l=r.option4,d={question:i.value,id:n,rightAnswerId:s.rightAnswerId,answers:[{text:c.value,id:c.id},{text:o.value,id:o.id},{text:u.value,id:u.id},{text:l.value,id:l.id}]};t.push(d),a(Object(Y.a)(Object(Y.a)({},s),{},{quiz:t,isFormValid:!1,rightAnswerId:1,formControls:de()}))},disabled:!s.isFormValid,children:"Add question"}),Object(r.jsx)(D,{type:"success",onClick:c,disabled:0===s.quiz.length,children:"Create test"})]})]})})},je=n(49),be=n.n(je),pe=function(e){var t=Object(i.useState)({quizes:[]}),n=Object(U.a)(t,2),s=n[0],a=n[1];Object(i.useEffect)((function(){Object(J.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get("https://react-quiz-25a52-default-rtdb.firebaseio.com/quizes.json");case 3:t=e.sent,n=[],Object.keys(t.data).forEach((function(e,t){n.push({id:e,name:"Test #".concat(t+1)})})),a(Object(Y.a)(Object(Y.a)({},s),{},{quizes:n})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}));return Object(r.jsxs)("div",{className:be.a.QuizList,children:[Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Quiz List"})}),Object(r.jsx)("ul",{children:s.quizes.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(f.c,{to:"/quiz/"+e.id,children:e.name})},e.id)}))})]})},ve=n(30),fe=n.n(ve),Oe=n(50),me=n.n(Oe),xe=function(e){var t=Object(i.useState)({isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Enter correct Email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter correct password",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}}),n=Object(U.a)(t,2),s=n[0],a=n[1],c=function(e,t){var n=Object(Y.a)({},s.formControls),r=Object(Y.a)({},n[t]);r.value=e.target.value,r.touched=!0,r.valid=function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=me.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}(r.value,r.validation),n[t]=r;var i=!0;Object.keys(n).forEach((function(e){i=n[e].valid&&i})),a({formControls:n,isFormValid:i})};return Object(r.jsx)("div",{className:fe.a.Auth,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Authorization"}),Object(r.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault()},className:fe.a.AuthForm,children:[Object.keys(s.formControls).map((function(e,t){var n=s.formControls[e];return Object(r.jsx)(ie,{type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,errorMessage:n.errorMessage,shouldValidate:!!n.validation,onChange:function(t){return c(t,e)}},e+t)})),Object(r.jsx)(D,{type:"success",onClick:function(){},disabled:!s.isFormValid,children:"Login"}),Object(r.jsx)(D,{type:"primary",onClick:function(){},children:"Registration"})]})]})})};var _e=function(){return Object(r.jsx)(C,{children:Object(r.jsxs)(P.c,{children:[Object(r.jsx)(P.a,{path:"/auth",component:xe}),Object(r.jsx)(P.a,{path:"/quiz-creator",component:he}),Object(r.jsx)(P.a,{path:"/quiz/:id",component:K}),Object(r.jsx)(P.a,{path:"/",component:pe})]})})},we=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),s(e),a(e)}))};c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(f.a,{children:Object(r.jsx)(_e,{})})}),document.getElementById("root")),we()}},[[80,1,2]]]);
//# sourceMappingURL=main.12cfcee2.chunk.js.map